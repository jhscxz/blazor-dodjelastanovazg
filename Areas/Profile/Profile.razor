@page "/profile/{UserId}"
@using Microsoft.AspNetCore.Authorization
@using DodjelaStanovaZG.Components.UI
@using MudBlazor
@using DodjelaStanovaZG.Components.UI.Buttons

@attribute [Authorize]

<Container BreadcrumbItems="BreadcrumbItems">
    <FormCard Xs="12" Sm="10" Md="6" Lg="4" CardStyle="width: 350px; margin: auto;">
        @if (!_isLoaded)
        {
            <MudText Typo="Typo.h6" Class="text-center">Učitavam...</MudText>
        }
        else
        {
            <MudTextField Label="Korisničko ime" T="string" Value="@_profileModel.UserName"
                          Disabled="true" Margin="Margin.Dense" Variant="Variant.Outlined" Class="mb-4"/>

            <MudTextField Label="Email" T="string" Value="@_profileModel.Email"
                          Disabled="true" Margin="Margin.Dense" Variant="Variant.Outlined" Class="mb-4"/>

            <MudText Typo="Typo.caption" Class="mt-2">
                Uloge: @string.Join(", ", _userRoles)
            </MudText>

            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2" Class="mt-4">
                <ChangePasswordButton OnClick="NavigateToChangePassword"/>
            </MudStack>
        }
    </FormCard>
</Container>
