@page "/profile/{UserId}"
@using Microsoft.AspNetCore.Authorization
@using DodjelaStanovaZG.Components.UI
@using MudBlazor

@attribute [Authorize]

<Container BreadcrumbItems="BreadcrumbItems">
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="10" md="6" lg="4">
            <MudCard Outlined="true" Rounded="true" Style="width: 350px; margin: auto;">
                <MudCardContent>
                    @if (!_isLoaded)
                    {
                        <MudText Typo="Typo.h6" Class="text-center">Uƒçitavam...</MudText>
                    }
                    else
                    {
                        <MudTextField Label="Ime" T="string" Value="@_profileModel.UserName"
                                      Disabled="true" Margin="Margin.Dense" Variant="Variant.Outlined" Class="mb-4" />

                        <MudTextField Label="Email" T="string" Value="@_profileModel.Email"
                                      Disabled="true" Margin="Margin.Dense" Variant="Variant.Outlined" Class="mb-4" />

                        <MudText Typo="Typo.caption" Class="mt-2">
                            Uloge: @string.Join(", ", _userRoles)
                        </MudText>

                        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2" Class="mt-4">
                            <MudButton Variant="Variant.Filled"
                                       Size="Size.Small"
                                       IconColor="Color.Error"
                                       DropShadow="false"
                                       Color="Color.Default"
                                       Style="border: 1px solid #d3d3d3;"
                                       OnClick="NavigateToChangePassword"
                                       StartIcon="@Icons.Material.Filled.LockReset">
                                Promijeni lozinku
                            </MudButton>
                        </MudStack>
                    }
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>
</Container>
